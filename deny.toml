# cargo-deny configuration
# https://embarkstudios.github.io/cargo-deny/

# Note that all fields that take a lint level have these possible values:
# * deny - An error will be produced and the check will fail
# * warn - A warning will be produced, but the check will not fail
# * allow - No warning or error will be produced, though in some cases a note will be

[advisories]
# The path where the advisory database is cloned/fetched into
db-path = "~/.cargo/advisory-db"
# The url(s) of the advisory databases to use
db-urls = ["https://github.com/rustsec/advisory-db"]
# The lint level for security vulnerabilities
vulnerability = "deny"
# The lint level for unmaintained crates
unmaintained = "warn"
# The lint level for crates that have been yanked from their source registry
yanked = "deny"
# The lint level for crates with security notices
notice = "warn"
# A list of advisory IDs to ignore
ignore = [
    # Add specific advisory IDs here if needed
    # Example: "RUSTSEC-2020-0001",
]

[licenses]
# The lint level for crates which do not have a detectable license
unlicensed = "deny"
# List of explicitly allowed licenses
allow = [
    "MIT",
    "Apache-2.0",
    "Apache-2.0 WITH LLVM-exception",
    "BSD-2-Clause",
    "BSD-3-Clause",
    "ISC",
    "Unicode-DFS-2016",
    "Zlib",
    "0BSD",
    "CC0-1.0",
    "MPL-2.0",
]
# List of explicitly disallowed licenses
deny = [
    # Commercial licenses
    "GPL-2.0",
    "GPL-3.0",
    "AGPL-3.0",
    # We want to be liberal, but not allow copyleft licenses
]
# Lint level for licenses considered copyleft
copyleft = "warn"
# Blanket approval or denial for OSI-approved or FSF Free/Libre licenses
allow-osi-fsf-free = "both"
# Lint level used when no other predicates are matched
default = "deny"
# The confidence threshold for detecting a license from license text
confidence-threshold = 0.8

[bans]
# Lint level for when multiple versions of the same crate are detected
multiple-versions = "warn"
# Lint level for when a crate version requirement is `*`
wildcards = "warn"
# The graph highlighting used when creating dotgraphs for crates with multiple versions
highlight = "all"
# List of crates that are allowed
allow = []
# List of crates to deny
deny = [
    # Denial reasons should be provided
    # { name = "openssl", version = "*" },
]
# Certain crates/versions that will be skipped when doing duplicate detection
skip = []
# Similarly named crates that are different
skip-tree = []

[sources]
# Lint level for what to happen when a crate from a crate registry that is not in the allow list is encountered
unknown-registry = "warn"
# Lint level for what to happen when a crate from a git repository that is not in the allow list is encountered
unknown-git = "warn"
# List of URLs for allowed crate registries
allow-registry = ["https://github.com/rust-lang/crates.io-index"]
# List of URLs for allowed Git repositories
allow-git = []

[output]
# When outputting inclusion graphs in diagnostics that include features, this option can be used to specify the depth at which feature edges will be added. This option is included since the graphs can be quite large and the addition of features from the crate(s) to all of the graph roots can be far too verbose. This option can be overridden via `--feature-depth` on the cmd line
feature-depth = 1
